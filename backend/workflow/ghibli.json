{
  "6": {
    "inputs": {
      "text": [
        "227",
        0
      ],
      "speak_and_recognation": {
        "__value__": [
          false,
          true
        ]
      },
      "clip": [
        "38",
        0
      ]
    },
    "class_type": "CLIPTextEncode",
    "_meta": {
      "title": "CLIP Text Encode (Positive Prompt)"
    }
  },
  "8": {
    "inputs": {
      "samples": [
        "31",
        0
      ],
      "vae": [
        "39",
        0
      ]
    },
    "class_type": "VAEDecode",
    "_meta": {
      "title": "VAE Decode"
    }
  },
  "31": {
    "inputs": {
      "seed": 228713737731061,
      "steps": 28,
      "cfg": 1,
      "sampler_name": "euler",
      "scheduler": "simple",
      "denoise": 1,
      "model": [
        "195",
        0
      ],
      "positive": [
        "35",
        0
      ],
      "negative": [
        "135",
        0
      ],
      "latent_image": [
        "124",
        0
      ]
    },
    "class_type": "KSampler",
    "_meta": {
      "title": "KSampler"
    }
  },
  "35": {
    "inputs": {
      "guidance": 2.5,
      "conditioning": [
        "177",
        0
      ]
    },
    "class_type": "FluxGuidance",
    "_meta": {
      "title": "FluxGuidance"
    }
  },
  "37": {
    "inputs": {
      "unet_name": "flux1-dev-kontext_fp8_scaled.safetensors",
      "weight_dtype": "fp8_e4m3fn"
    },
    "class_type": "UNETLoader",
    "_meta": {
      "title": "Load Diffusion Model"
    }
  },
  "38": {
    "inputs": {
      "clip_name1": "clip_l.safetensors",
      "clip_name2": "t5xxl_fp8_e4m3fn_scaled.safetensors",
      "type": "flux",
      "device": "default"
    },
    "class_type": "DualCLIPLoader",
    "_meta": {
      "title": "DualCLIPLoader"
    }
  },
  "39": {
    "inputs": {
      "vae_name": "ae.safetensors"
    },
    "class_type": "VAELoader",
    "_meta": {
      "title": "Load VAE"
    }
  },
  "124": {
    "inputs": {
      "pixels": [
        "193",
        0
      ],
      "vae": [
        "39",
        0
      ]
    },
    "class_type": "VAEEncode",
    "_meta": {
      "title": "VAE Encode"
    }
  },
  "135": {
    "inputs": {
      "conditioning": [
        "6",
        0
      ]
    },
    "class_type": "ConditioningZeroOut",
    "_meta": {
      "title": "ConditioningZeroOut"
    }
  },
  "136": {
    "inputs": {
      "filename_prefix": "ComfyUI",
      "images": [
        "8",
        0
      ]
    },
    "class_type": "SaveImage",
    "_meta": {
      "title": "Save Image"
    }
  },
  "177": {
    "inputs": {
      "conditioning": [
        "6",
        0
      ],
      "latent": [
        "124",
        0
      ]
    },
    "class_type": "ReferenceLatent",
    "_meta": {
      "title": "ReferenceLatent"
    }
  },
  "192": {
    "inputs": {
      "image": "duck.jpg"
    },
    "class_type": "LoadImage",
    "_meta": {
      "title": "Load Image"
    }
  },
  "193": {
    "inputs": {
      "upscale_method": "lanczos",
      "megapixels": 1,
      "image": [
        "192",
        0
      ]
    },
    "class_type": "ImageScaleToTotalPixels",
    "_meta": {
      "title": "Scale Image to Total Pixels"
    }
  },
  "195": {
    "inputs": {
      "model_type": "flux",
      "magcache_thresh": 0.24,
      "retention_ratio": 0.1,
      "magcache_K": 5,
      "start_step": 0,
      "end_step": -1,
      "model": [
        "197",
        0
      ]
    },
    "class_type": "MagCache",
    "_meta": {
      "title": "MagCache"
    }
  },
  "197": {
    "inputs": {
      "lora_name": "ghibliStyle_kontext_byJaneB.safetensors",
      "strength_model": 1.0000000000000002,
      "model": [
        "37",
        0
      ]
    },
    "class_type": "LoraLoaderModelOnly",
    "_meta": {
      "title": "LoraLoaderModelOnly"
    }
  },
  "212": {
    "inputs": {
      "direction": "right",
      "match_image_size": true,
      "image1": [
        "192",
        0
      ],
      "image2": [
        "8",
        0
      ]
    },
    "class_type": "ImageConcanate",
    "_meta": {
      "title": "Image Concatenate"
    }
  },
  "213": {
    "inputs": {
      "filename_prefix": "ComfyUI",
      "images": [
        "212",
        0
      ]
    },
    "class_type": "SaveImage",
    "_meta": {
      "title": "Save Image"
    }
  },
  "222": {
    "inputs": {
      "prompt": "Generate a flux model drawing prompt for this image, within 140 words. Only describe the content of the image; do not describe the artistic style such as photo, painting, anime, etc. Please describe the scene in order from left to right, top to bottom, and from foreground to background, clearly indicating the position of each subject.",
      "api_key": "AIzaSyAbTVjDbP43O45TYyqxdt9UMomnPGj1tBA",
      "model": "models/gemini-2.0-flash-exp",
      "aspect_ratio": "Free (自由比例)",
      "temperature": 1,
      "seed": 822920993,
      "speak_and_recognation": {
        "__value__": [
          false,
          true
        ]
      },
      "images": [
        "192",
        0
      ]
    },
    "class_type": "Google-Gemini",
    "_meta": {
      "title": "Gemini 2.0 image"
    }
  },
  "225": {
    "inputs": {
      "source": [
        "222",
        1
      ],
      "split_by": "## API返回",
      "from_right": "false"
    },
    "class_type": "JWStringSplit",
    "_meta": {
      "title": "String Split"
    }
  },
  "226": {
    "inputs": {
      "text": "",
      "anything": [
        "225",
        1
      ]
    },
    "class_type": "easy showAnything",
    "_meta": {
      "title": "Show Any"
    }
  },
  "227": {
    "inputs": {
      "string_a": "Convert to Ghibli style",
      "string_b": [
        "226",
        0
      ],
      "delimiter": "",
      "speak_and_recognation": {
        "__value__": [
          false,
          true
        ]
      }
    },
    "class_type": "StringConcatenate",
    "_meta": {
      "title": "Concatenate"
    }
  }
}